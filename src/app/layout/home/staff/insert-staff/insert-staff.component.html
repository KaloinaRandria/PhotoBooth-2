<div class="row justify-content-md-center info">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h1 class="titre">INSERT STAFF</h1>
                <form [formGroup]="form" (ngSubmit)="submitForm()">
                    <div class="form-row">
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>First name</mat-label>
                                <input matInput formControlName="prenom" id="prenom" placeholder="First name">
                            </mat-form-field>
                            <div *ngIf="form.get('prenom')?.invalid && (form.get('prenom')?.dirty || form.get('prenom')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('prenom')?.errors?.['required']">
                                    First name is required.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Last name</mat-label>
                                <input matInput formControlName="nom" id="nom" placeholder="Last name">
                            </mat-form-field>
                            <div *ngIf="form.get('nom')?.invalid && (form.get('nom')?.dirty || form.get('nom')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('nom')?.errors?.['required']">
                                    Last name is required.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Username</mat-label>
                                <input matInput formControlName="username" id="username" placeholder="Username">
                            </mat-form-field>
                            <div *ngIf="form.get('username')?.invalid && (form.get('username')?.dirty || form.get('username')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('username')?.errors?.['required']">
                                    Username is required.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Date of birth</mat-label>
                                <input matInput formControlName="dtn" id="dtn" type="date" placeholder="Date of birth">
                            </mat-form-field>
                            <div *ngIf="form.get('dtn')?.invalid && (form.get('dtn')?.dirty || form.get('dtn')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('dtn')?.errors?.['required']">
                                    Date of birth is required.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>E-mail</mat-label>
                                <input matInput formControlName="mail" id="mail" type="email" placeholder="E-mail">
                            </mat-form-field>
                            <div *ngIf="form.get('mail')?.invalid && (form.get('mail')?.dirty || form.get('mail')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('mail')?.errors?.['required']">
                                    E-mail is required.
                                </div>
                                <div *ngIf="form.get('mail')?.errors?.['email']">
                                    Please enter a valid e-mail address.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Password</mat-label>
                                <input matInput formControlName="mdp" id="mdp" type="password" placeholder="Password">
                            </mat-form-field>
                            <div *ngIf="form.get('mdp')?.invalid && (form.get('mdp')?.dirty || form.get('mdp')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('mdp')?.errors?.['required']">
                                    Password is required.
                                </div>
                                <div *ngIf="form.get('mdp')?.errors?.['minlength']">
                                    Password must be at least 8 characters long.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Role</mat-label>
                                <mat-select formControlName="role" id="role">
                                    <mat-option *ngFor="let role of roleList" [value]="role.id_role">{{ role.intitule }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div *ngIf="form.get('role')?.invalid && (form.get('role')?.dirty || form.get('role')?.touched)"
                                 class="alert alert-danger">
                                Role is required.
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Post</mat-label>
                                <mat-select formControlName="post" id="post">
                                    <mat-option *ngFor="let poste of posteList" [value]="poste.id_poste">{{ poste.intitule }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div *ngIf="form.get('post')?.invalid && (form.get('post')?.dirty || form.get('post')?.touched)"
                                 class="alert alert-danger">
                                Post is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Hiring date</mat-label>
                                <input matInput formControlName="date_embauche" id="date_embauche" type="date" placeholder="Hiring date">
                            </mat-form-field>
                            <div *ngIf="form.get('date_embauche')?.invalid && (form.get('date_embauche')?.dirty || form.get('date_embauche')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('date_embauche')?.errors?.['required']">
                                    Hiring date is required.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <mat-form-field class="full-width input-truc">
                                <mat-label>Salary</mat-label>
                                <input matInput formControlName="salaire" id="salaire" type="number" placeholder="Salary" min="0">
                            </mat-form-field>
                            <div *ngIf="form.get('salaire')?.invalid && (form.get('salaire')?.dirty || form.get('salaire')?.touched)"
                                 class="alert alert-danger">
                                <div *ngIf="form.get('salaire')?.errors?.['required']">
                                    Salary is required.
                                </div>
                                <div *ngIf="form.get('salaire')?.errors?.['min']">
                                    Salary must be greater than zero.
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-light submit-button" type="submit" [disabled]="!form.valid">Submit form</button>
                </form>
            </div>
        </div>
    </div>
</div>
